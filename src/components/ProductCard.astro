---
// src/components/ProductCard.astro

// Definimos las propiedades que recibir치 la tarjeta
interface Props {
  name: string;
  price: number;
  imageUrl: string;
  link: string;
  isNew?: boolean;
}

const { name, price, imageUrl, link, isNew = false } = Astro.props;

// Funci칩n para formatear el precio a moneda (ej: $199.99)
const formattedPrice = new Intl.NumberFormat("es-ES", {
  style: "currency",
  currency: "COP",
}).format(price);
---

<a
  href={link}
  class="block transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] rounded-xl group"
>
  <div
    class="bg-white p-4 rounded-xl shadow-lg border border-gray-100 h-full flex flex-col"
  >
    <!-- Imagen del Producto -->
    <div
      class="relative overflow-hidden rounded-lg bg-gray-50 mb-4 h-48 flex items-center justify-center"
    >
      <img
        src={imageUrl}
        alt={name}
        loading="lazy"
        class="w-full h-full object-cover group-hover:opacity-90 transition-opacity duration-300"
        onerror="this.onerror=null;this.src='https://www.absen.mx/wp-content/uploads/2025/07/xl-series-banner-1920x800-2-xl-series-banner-1920x800-2.jpg';"
      />
      {
        isNew && (
          <span class="absolute top-2 left-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-full shadow-md">
            Nuevo
          </span>
        )
      }
    </div>

    <!-- Detalles del Producto -->
    <div class="flex flex-col flex-grow">
      <h3
        class="text-lg font-semibold text-gray-800 mb-1 group-hover:text-primary transition-colors"
      >
        {name}
      </h3>
      <p class="text-2xl font-bold text-gray-900 mt-auto">{formattedPrice}</p>
    </div>

    <!-- Bot칩n de Acci칩n -->
    <button
      type="button"
      class="mt-4 w-full py-2 bg-gray-900 text-white rounded-full font-medium transition-colors hover:bg-primary shadow-md"
    >
      Ver Detalles
    </button>
  </div>
</a>
